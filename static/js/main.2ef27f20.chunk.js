(window["webpackJsonpstar-wars-game"]=window["webpackJsonpstar-wars-game"]||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/loading.bd69c16a.gif"},27:function(e,t,a){e.exports=a.p+"static/media/logo.a51b1fe9.webp"},28:function(e,t,a){e.exports=a.p+"static/media/deathstar.95cebd7e.png"},30:function(e,t,a){e.exports=a(42)},35:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),s=(a(35),a(19)),o=a.n(s),l=a(21),u=a(8),m=a(56),p=a(24),d=a.n(p),f=function(){return r.a.createElement(m.a,{className:"loading-site",container:!0,justify:"center",alignItems:"center"},r.a.createElement(m.a,{item:!0,xs:2},r.a.createElement("img",{src:d.a,alt:"Loading circle"})))},h=a(60),w=a(57),g=a(58),E=function(e){var t=e.dataSelect;return r.a.createElement(m.a,{className:"pick-game",container:!0,spacing:6,justify:"center",alignItems:"center"},r.a.createElement(m.a,{item:!0,xs:12},r.a.createElement("h1",null,"Pick cards!")),r.a.createElement(m.a,{item:!0,xs:2},r.a.createElement(h.a,{className:"pick-game-card",onClick:function(){t("people")}},r.a.createElement(w.a,{src:"https://starwars-visualguide.com/assets/img/characters/1.jpg",component:"img",alt:"Character picture"}),r.a.createElement(g.a,null,r.a.createElement("h1",null,"Characters")))),r.a.createElement(m.a,{item:!0,xs:2},r.a.createElement(h.a,{className:"pick-game-card",onClick:function(){t("starships")}},r.a.createElement(w.a,{src:"https://starwars-visualguide.com/assets/img/starships/10.jpg",component:"img",alt:"Starship picture"}),r.a.createElement(g.a,null,r.a.createElement("h1",null,"Starships")))))},b=a(11),O=function(e){return new Promise(function(t,a){fetch(e).then(function(e){return e.json()}).catch(function(e){a(e)}).then(function(n){for(var r=n.results,c=n.count,i=Math.ceil(c/r.length),s=[],o=2;o<i+1;o++)s.push("".concat(e,"/?page=").concat(o));Promise.all(s.map(function(e){return function(e){return new Promise(function(t,a){fetch(e).then(function(e){return e.json()}).catch(function(e){a(e)}).then(function(e){e&&t(e.results)})})}(e)})).catch(function(e){a(e)}).then(function(e){e.forEach(function(e){r.push.apply(r,Object(b.a)(e))}),t(r)})})})},j=a(9),v=a(59);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var N=function(e){var t=Object(b.a)(e),a=e.map(function(e){var t=e.value.split(",").join("");return parseInt(t,10)});return isNaN(a[0])||isNaN(a[1])||a[0]===a[1]?e.map(function(e){return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(j.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e,{win:"draw"})}):a[0]>a[1]?(t[0].win=!0,t):(t[1].win=!0,t)},k=function(e){var t=e.split("/");return t[t.length-2]},P=function(e,t){var a=function(e,t){return e.map(function(e){return{name:e.name,value:e[t],winFactorName:t,urlId:k(e.url)}})}(function e(t){var a=t.length-1,n=Math.round(Math.random()*a),r=Math.round(Math.random()*a);return n!==r?[t[n],t[r]]:e(t)}(e),t),n=N(a);return{player1:n[0],player2:n[1]}},S=a(12),x=a(27),D=a.n(x),R=function(){return r.a.createElement(h.a,{className:"inner reverse"},r.a.createElement(w.a,{component:"img",src:D.a,alt:"Star wars logo"}))},C=function(e){var t=e.stats,a=t.name,n=t.value,c=t.winFactorName,i=t.urlId,s="mass"===c?"characters":"starships";return r.a.createElement(h.a,{className:"inner front"},r.a.createElement(g.a,{className:"head"},r.a.createElement("h1",null,a)),r.a.createElement(w.a,{src:"https://starwars-visualguide.com/assets/img/".concat(s,"/").concat(i,".jpg"),component:"img",alt:"Card picture",onError:function(e){e.target.src="https://starwars-visualguide.com/assets/img/placeholder.jpg"}}),r.a.createElement(g.a,null,r.a.createElement("h1",null,c," : ","unknown"===n?"?":n)))},W=function(e){var t=e.stats,a=e.onFinishRound,c=e.killRound,i=e.onRoundKilled,s=e.left,o=r.a.createRef(),l=s?1:-1;return Object(n.useEffect)(function(){t&&Object(S.a)({targets:o.current,translateX:(window.outerWidth/4-30)*l,scale:1.2,rotate:l+"turn",complete:function(){o.current.classList.add("flipped"),setTimeout(function(){"draw"===t.win?Object(S.a)({targets:o.current,scale:.7,translateX:window.outerWidth/5*l,complete:function(){a()}}):t.win?Object(S.a)({targets:o.current,translateX:(window.outerWidth/4+180)*l,begin:function(){o.current.classList.add("winner")},complete:function(){a()}}):Object(S.a)({targets:o.current,scale:.7,translateX:window.outerWidth/5*l,complete:function(){a()}})},800)}})},[]),Object(n.useEffect)(function(){c&&("draw"===t.win?Object(S.a)({targets:o.current,translateX:window.outerWidth/4*l*-1,complete:function(){i()}}):t.win?Object(S.a)({targets:o.current,translateY:-1*window.outerHeight,translateX:window.outerWidth/6*l,duration:1e3,complete:function(){i()}}):Object(S.a)({targets:o.current,translateY:window.outerHeight,duration:1e3,complete:function(){i()}}))},[c]),r.a.createElement("div",{className:"gamecard",ref:o},t?r.a.createElement("div",{className:"flip-card"},r.a.createElement("div",{className:"flip-front"},r.a.createElement(R,null)),r.a.createElement("div",{className:"flip-back"},r.a.createElement(C,{stats:t}))):r.a.createElement(R,null))},F=a(28),I=a.n(F);function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var M=function(e){var t=e.feed,a=e.winFactor,c=e.changeGameData,i=Object(n.useState)({player1:0,player2:0}),s=Object(u.a)(i,2),o=s[0],l=s[1],p=Object(n.useState)(!1),d=Object(u.a)(p,2),f=d[0],h=d[1],w=Object(n.useState)(!1),g=Object(u.a)(w,2),E=g[0],b=g[1],O=Object(n.useState)(!1),y=Object(u.a)(O,2),N=y[0],k=y[1],S=Object(n.useState)(!1),x=Object(u.a)(S,2),D=x[0],C=x[1],F=function(){var e=P(t,a);h(!1),setTimeout(function(){b(!1),k(!1),h(e)},10)};return r.a.createElement(m.a,{container:!0,spacing:0,className:"game-room"},r.a.createElement(m.a,{item:!0,xs:12,className:"score-board"},r.a.createElement("h1",null,r.a.createElement("span",{className:"score"},o.player1)," : ",r.a.createElement("span",{className:"score"},o.player2))),r.a.createElement(m.a,{item:!0,xs:3,className:"card-holder"},r.a.createElement("div",{className:"card-slot"},f?r.a.createElement("div",{className:"animated-card"},r.a.createElement(W,{stats:f.player1,onFinishRound:function(){var e,t=(e=f,Object.keys(e).map(function(t){return e[t].win&&"draw"===e[t].win?"draw":!!e[t].win&&t}).filter(function(e){return e})[0]);"draw"===t?k(!0):l(function(e){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?X(a,!0).forEach(function(t){Object(j.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},e);return a[t]=a[t]+1,a}),C(!1)},killRound:E,onRoundKilled:F,left:!0})):"",r.a.createElement("div",{className:"gamecard"},r.a.createElement(R,null)))),r.a.createElement(m.a,{item:!0,xs:6,className:"game-table"},N&&r.a.createElement("h2",null,"Can't tell who wins."),r.a.createElement("img",{src:I.a,alt:"Star Wars Death Star"})),r.a.createElement(m.a,{item:!0,xs:3,className:"card-holder"},r.a.createElement("div",{className:"card-slot"},f?r.a.createElement("div",{className:"animated-card"},r.a.createElement(W,{stats:f.player2,killRound:E,onFinishRound:function(){},onRoundKilled:function(){}})):"",r.a.createElement("div",{className:"gamecard"},r.a.createElement(R,null)))),r.a.createElement(m.a,{item:!0,xs:3,className:"round-control"},r.a.createElement(v.a,{variant:"outlined",onClick:c,disabled:D},"Change cards")),r.a.createElement(m.a,{item:!0,xs:6,className:"round-control"},r.a.createElement(v.a,{variant:"outlined",onClick:function(){C(!0),f?b(!0):F()},disabled:D},"Next round!")))},K=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(""),s=Object(u.a)(i,2),m=s[0],p=s[1],d=Object(n.useState)(!1),h=Object(u.a)(d,2),w=h[0],g=h[1],b=function(){var e=Object(l.a)(o.a.mark(function e(t){var a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:a=e.sent,c(a),g(!1);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return w?r.a.createElement(f,null):r.a.createElement("div",{className:"game-wrapper"},a.length?r.a.createElement(M,{feed:a,winFactor:m,changeGameData:function(){c([]),p("")}}):r.a.createElement(E,{dataSelect:function(e){g(!0);var t="https://swapi.co/api/".concat(e);p("people"===e?"mass":"crew"),b(t)}}))};var L=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,1,2]]]);
//# sourceMappingURL=main.2ef27f20.chunk.js.map